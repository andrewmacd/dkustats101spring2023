{"title":"Characteristics of Distributions Activity","markdown":{"yaml":{"title":"Characteristics of Distributions Activity","subtitle":"DKU Stats 101 Spring 2023","author":"Professor MacDonald","date":"3/23/2023"},"headingText":"Lecture 1.2 in-class activities","containsRefs":false,"markdown":"\n\n\n## How to Make High-Quality Histograms\n\n> Taken from: http://www.sthda.com/english/wiki/ggplot2-histogram-plot-quick-start-guide-r-software-and-data-visualization\n> Additional resources: https://ggplot2.tidyverse.org/reference/geom_histogram.html\n\n### Part 1: Setup\n\nFirst, we need to install a good-quality graphical display library:\n\n1.\tIf you have not installed the `ggplot2` package, you can do so by typing `install.packages(\"ggplot2\")`. Answer `yes` when prompted.\n \n2.\tType `library(ggplot2)` into the Console after the installation has finished - this loads the package into memory\n\n### Part 2: Basic Histograms\n\n`ggplot` is the basic graphing function that you will use over and over again. \n\nWe can create a basic histogram of the miles per gallon (a measure of fuel efficiency in automobiles) with:\n\n`ggplot(mtcars, aes(x=mpg)) + geom_histogram()`\n\nThe `ggplot` function has three components:\n\n1. Dataset being used (in this case, the built-in test dataset for R called `mtcars`)\n2. The data you intend to display (named inside of the `aes()` part)\n3. The type of graphical display you wish to make (appended after the `ggplot()` function with a `+` sign)\n\nHowever, the default `ggplot` settings often are not so great. In particular, the bindwidth for this histogram is not that well chosen.\n\nTo alter the binwidth, we can set each bin to equal a set number of mpg (miles per gallon):\n\n`ggplot(mtcars, aes(x=mpg)) + geom_histogram(binwidth=1)`\n\n> Play around with the binwidth, try to find something that you feel accurately captures the distribution of the data. \n\n1. What is the shape, center, and spread of this data? Are there any outliers?\n2. How does changing the binwidth affect your answers to these questions?\n\nTo properly label the graph, we add the following amendments:\n\n`ggplot(mtcars, aes(x=mpg)) + geom_histogram() + labs(x\"MPG\", y=\"Count\", title=\"MPG of the cars in this dataset\")`\n\nYou can see here that additional layers on top of the graph are created with each `+` sign. So the first part of the `ggplot()` function specifies the data to be used and the additional `+` each create a layer on top of the graph.\n\n### Part 3: Adding layers to the histogram\n\nNow maybe we want to add a mean line. We can do so with the following command:\n\n`p <- ggplot(mtcars, aes(x=mpg)) +  geom_histogram() + labs(x=\"MPG\", y=\"Count\", title=\"MPG of the cars in this dataset\")`\n\nIn this case, we are saving the output of the graph to a new variable, called `p`\n\nNow we can add a vertical line at the mean of `mpg` with the following command:\n\n`p + geom_vline(aes(xintercept=mean(mpg)), color=\"red\", linetype=\"dashed\", size=1)`\n\nOr we can change the histogram type to be a density plot instead of a count plot:\n\n`p <- ggplot(mtcars, aes(x=mpg)) + geom_histogram(aes(y = ..density..)) + labs(x=\"MPG\", y=\"Density\", title=\"MPG of the cars in this dataset\")`\n\nNote that this overwrites the previous value of `p`\n\n> Think about the difference between a density plot and the previous plots we have produced\n\nYou can then overlay a density layer to get another view of the distribution of the data:\n\n`p + geom_density(alpha=.2, fill=\"#FF6666\")`\n\n### Part 4: Dividing the histogram by a categorical variable\n\nWe can also differentiate `mpg` by a categorical variable (number of cylinders in a car) via the following steps:\n\n1. First, we need to let R know that `cyl` is a categorical variable\n\n`mtcars$cyl <- factor(mtcars$cyl)`\n\nR generally does not know if a variable is a categorical one or not unless you tell it directly. `factor()` is the method of converting a quantitative variable to a categorical variable.\n\n2. Then we can create histograms that vary by cylinder:\n\n`ggplot(mtcars, aes(x=mpg, color=cyl))  +  geom_histogram(fill=\"white\") + labs(x=\"MPG\", y=\"Count\", title=\"MPG of cars in the MPG Dataset\")`\n\nHere the `color` aspect of `aes()` indicates that the color should be changed according to each group of the variable `cylinder`\n\n> Play around with the binwidth and add a density layer. How would you interpret this new information? \n\n3.\tNext we want to create group means for each cylinder (i.e. what is the mean weight of each category of cylinders). To do so, we need the following commands (don't worry about understanding it, we'll learn more about this later):\n\n```\nlibrary(plyr)\nmu <- ddply(mtcars, \"cyl\", summarise, grp.mean=mean(mpg))\nhead(mu)\n```\n\nYou should get the following output:\n\n```\n  cyl grp.mean\n1   4 26.66364\n2   6 19.74286\n3   8 15.10000\n```\n\nNow we can add a mean line to each of the categories: \n\n`ggplot(mtcars, aes(x=mpg, color=cyl))  + geom_histogram(fill=\"white\") + labs(x=\"MPG\", y=\"Count\", title=\"MPG of cars in the MPG Dataset\") + geom_vline(data=mu, aes(xintercept=grp.mean, color=cyl), linetype=\"dashed\")`\n \n##  Thinking about distributions of variables in this dataset\n\nTo learn more about each of the variables in the dataset, you can examine the dataset (and any function documentation in R) by entering `?mtcars`\n\nFor the variables `hp` and `wt`, estimate or guess the shape, center and spread of the variables before examining your data. You can think about the following characteristics while you consider the issue:\n\n-   Shape\n    -   Skew\n    -   Modes\n-   Center\n    -   Mean\n    -   Median\n-   Spread\n    -   Range\n    -   IQR\n    -   Standard deviation\n\nNext, create some histograms to assess whether you are correct or not. \n\nAlso think about:\n\n1. Do you think either of these variables meaningfully vary in their distribution by one of the categorical variables? Why or why not?\n2. Do you see any outliers? Would either of these variables benefit from reexpressions?\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"output-file":"Characteristics of Distributions Activity.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.36","editor":"visual","theme":"cosmo","title":"Characteristics of Distributions Activity","subtitle":"DKU Stats 101 Spring 2023","author":"Professor MacDonald","date":"3/23/2023"},"extensions":{"book":{"multiFile":true}}}}}